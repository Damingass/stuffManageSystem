(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40077834"],{"6d37":function(e,t,s){"use strict";s("ccdf")},a547:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"index"},[t("el-container",{staticClass:"index-container"},[t("el-header",[t("span",[e._v("简易教务管理系统")]),t("span",{staticClass:"nickname"},[e._v(e._s(e.nickname))]),t("el-button",{staticClass:"logout",attrs:{type:"primary"},on:{click:function(t){return e.logout()}}},[e._v("退出登录")])],1),t("el-container",[t("el-aside",{attrs:{width:"180px"}},[t("el-row",[t("el-col",[t("el-menu",{attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:"","default-active":e.active}},e._l(e.menuList,(function(s){return t("el-submenu",{key:s.menu.permissionId,attrs:{index:s.menu.path}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-location"}),t("span",[e._v(e._s(s.menu.permissionName))])]),e._l(s.subMenu,(function(s){return t("el-menu-item",{key:s.permissionId,attrs:{index:s.path},on:{click:function(t){return e.saveActive(s.path)}}},[e._v(" "+e._s(s.permissionName)+" ")])}))],2)})),1)],1)],1)],1),t("el-main",[t("router-view")],1)],1)],1)],1)},i=[],a={name:"index",created(){this.getMenuList(),this.nickname=this.$store.getters.getUser.nickname},methods:{getMenuList(){var e;console.log("MenuList",this.$store.getters.getUser,this.$store.getters.getToken),e=""==this.$store.getters.getUser||null==this.$store.getters.getUser?"":this.$store.getters.getUser.username,console.log("username",e),this.$axios.get("/user/getMenuList?username="+e,{headers:{Authorization:this.$store.getters.getToken.token}}).then(e=>{console.log("response",e);const t=e.data.data;this.menuList=t})},logout(){this.$confirm("确认退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message({type:"success",message:"退出成功!"}),this.$store.commit("REMOVE_INFO"),this.$router.replace("/login")}).catch(()=>{this.$message({type:"info",message:"已取消退出"})})},saveActive(e){localStorage.setItem("active",e),this.active=e}},data(){return{nickname:"",menuList:[],active:localStorage.getItem("active")}}},o=a,r=(s("6d37"),s("2877")),c=Object(r["a"])(o,n,i,!1,null,"740dbcaf",null);t["default"]=c.exports},ccdf:function(e,t,s){}}]);
//# sourceMappingURL=chunk-40077834.461d51ca.js.map